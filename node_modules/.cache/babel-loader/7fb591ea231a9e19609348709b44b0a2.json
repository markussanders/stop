{"ast":null,"code":"var _jsxFileName = \"/Users/markussanders/Development/WebPortfolio/stop/src/components/Timer.js\";\nimport React, { Component } from 'react';\nexport default class Timer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      running: false,\n      times: [0, 0, 0],\n      time: null\n    };\n    this.reset();\n  }\n\n  reset() {\n    const times = [0, 0, 0];\n    this.setState({\n      times\n    });\n  }\n\n  start() {\n    if (!this.state.time) this.setState({\n      time: performance.now()\n    });\n\n    if (!this.state.running) {\n      this.setState({\n        running: true\n      });\n      requestAnimationFrame(() => this.step(this.state.time));\n    }\n  }\n\n  stop() {\n    this.setState({\n      running: false,\n      time: null\n    });\n  }\n\n  step(timestamp) {\n    if (!this.state.running) return;\n    this.calculate(timestamp);\n    this.setState({\n      time: timestamp\n    });\n    requestAnimationFrame(() => this.step(timestamp));\n  }\n\n  calculate(timestamp) {\n    let times = this.state.times;\n    setInterval(() => {\n      times[2] === 1000 ? times[2] = 0 : times[2] += 1;\n    }, 1);\n\n    if (times[2] >= 100) {\n      times[1] += 1;\n    }\n\n    if (times[1] >= 60) {\n      times[0] += 1;\n      times[1] -= 60;\n    }\n\n    this.setState({\n      times\n    });\n  }\n\n  format(times) {\n    const pad = (value, count, ms = undefined) => {\n      let result = value.toString();\n\n      for (let i; result.length < count; --count) {\n        if (ms) result += '0';\n        result = '0' + result;\n      }\n\n      return result;\n    };\n\n    return `${pad(times[0], 2)}:${pad(times[1], 2)}:${pad(times[2], 2, true)}`;\n  }\n\n  handleKeyDown(event) {\n    if (event.keyCode === 32) {\n      switch (this.state.running) {\n        case false:\n          this.start();\n          break;\n\n        case true:\n          this.stop();\n          break;\n\n        default:\n          this.reset();\n      }\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"timer\",\n      onKeyDown: event => this.handleKeyDown(event),\n      tabIndex: -1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, this.format(this.state.times));\n  }\n\n}","map":{"version":3,"sources":["/Users/markussanders/Development/WebPortfolio/stop/src/components/Timer.js"],"names":["React","Component","Timer","constructor","props","state","running","times","time","reset","setState","start","performance","now","requestAnimationFrame","step","stop","timestamp","calculate","setInterval","format","pad","value","count","ms","undefined","result","toString","i","length","handleKeyDown","event","keyCode","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nexport default class Timer extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            running: false,\n            times: [0, 0, 0],\n            time: null,\n        }\n        this.reset();\n    }\n\n    reset() {\n        const times = [0, 0, 0];\n        this.setState({ times });\n    }\n\n    start() {\n        if (!this.state.time) this.setState({time: performance.now()});\n        if (!this.state.running) {\n            this.setState({running: true});\n            requestAnimationFrame(() => this.step(this.state.time));\n        }\n    }\n\n    stop() {\n        this.setState({\n            running: false,\n            time: null,\n        })\n    }\n\n    step(timestamp) {\n        if (!this.state.running) return;\n        this.calculate(timestamp);\n        this.setState({time: timestamp});\n        requestAnimationFrame(() => this.step(timestamp));\n    }\n    \n    calculate(timestamp) {\n        let times = this.state.times;\n        \n        setInterval(() => {\n            times[2] === 1000 ? times[2] = 0 : times[2] += 1;\n        }, 1)\n\n        if (times[2] >= 100) {\n            times[1] += 1;\n        }\n        \n        if (times[1] >= 60) {\n            times[0] += 1;\n            times[1] -= 60;\n        }\n\n        this.setState({ times });\n    }\n\n    format(times) {\n        const pad = (value, count, ms=undefined) => {\n            let result = value.toString();\n            for (let i; result.length < count; --count) {\n                if (ms) result += '0';\n                result = '0' + result;\n            }\n            return result;\n        }\n\n        return `${pad(times[0], 2)}:${pad(times[1], 2)}:${pad(times[2], 2, true)}`;\n    }\n\n    handleKeyDown(event) {\n        if (event.keyCode === 32) {\n            switch (this.state.running) {\n                case false:\n                    this.start();\n                    break;\n                case true:\n                    this.stop();\n                    break;\n                default: \n                    this.reset();\n            }\n        }\n\n    }\n\n    render() {\n        return (\n            <div className=\"timer\"\n             onKeyDown={event => this.handleKeyDown(event)}\n             tabIndex={-1}>\n                {this.format(this.state.times)}\n            </div>\n        ) \n    }\n    \n\n    \n}\n"]},"metadata":{},"sourceType":"module"}